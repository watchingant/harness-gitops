kind: pipeline
name: Python Test Pipeline
identifier: python_test_pipeline
spec:
  stages:
    - stage:
        name: Python CI Stage
        identifier: python_ci_stage
        type: CI
        spec:
          steps:
            - step:
                name: test 2
                identifier: test_2
                type: Run
                spec:
                  connectorRef: <+input> # Set your connector or use 'harnessImage'
                  image: python:2
                  shell: Sh
                  command: |-
                    pip install -r requirements.txt
                    pytest

            - step:
                name: test 3.3
                identifier: test_3_3
                type: Run
                spec:
                  connectorRef: <+input>
                  image: python:3.3
                  shell: Sh
                  command: |-
                    pip install -r requirements.txt
                    pytest

            - step:
                name: test 3.4
                identifier: test_3_4
                type: Run
                spec:
                  connectorRef: <+input>
                  image: python:3.4
                  shell: Sh
                  command: |-
                    pip install -r requirements.txt
                    pytest
